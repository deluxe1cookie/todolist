(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(t,e,n){},29:function(t,e,n){t.exports=n(58)},34:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(9),i=n.n(r),s=(n(34),n(1)),c=n(10),l=n(3),d=n(2),u=n(4),p=(n(18),function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={isEdit:!1,title:n.props.todoListTitle},n.activateEditMode=function(){n.setState({isEdit:!0})},n.deactivateEditMode=function(){n.props.changeTodolist(n.state.title),n.setState({isEdit:!1})},n.onInputChanged=function(t){n.setState({title:t.currentTarget.value})},n._handleKeyDown=function(t){"Enter"===t.key&&n.deactivateEditMode()},n.render=function(){return a.a.createElement("div",null,n.state.isEdit?a.a.createElement("input",{onBlur:n.deactivateEditMode,onChange:n.onInputChanged,autoFocus:!0,value:n.state.title,onKeyDown:n._handleKeyDown}):a.a.createElement("h3",{className:"todoList-header__title",onClick:n.activateEditMode},n.state.title))},n}return Object(u.a)(e,t),e}(a.a.Component)),f=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={error:!0,title:""},n.onAddItemClick=function(){n.state.error||(n.props.addItem(n.state.title),n.setState({error:!0,title:""}))},n.inputOnChange=function(t){""===t.currentTarget.value.trim()?n.setState({error:!0,title:""}):n.setState({error:!1,title:t.currentTarget.value})},n.inputOnKeyPress=function(t){"Enter"===t.key&&n.onAddItemClick(t)},n.render=function(){var t=n.state.error?"error":"";return a.a.createElement("div",{className:"todoList-newItemForm"},a.a.createElement("input",{onKeyPress:n.inputOnKeyPress,onChange:n.inputOnChange,className:t,type:"text",placeholder:"New item name",value:n.state.title}),a.a.createElement("button",{onClick:n.onAddItemClick},"Add"))},n}return Object(u.a)(e,t),e}(a.a.Component),T=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){return a.a.createElement("button",{onClick:n.props.delete},"X")},n}return Object(u.a)(e,t),e}(a.a.Component),h=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"todoList-header"},a.a.createElement(p,{todoListTitle:n.props.todoListTitle,changeTodolist:n.props.changeTodolist}),a.a.createElement(T,{delete:n.props.deleteTodolist})),a.a.createElement(f,{addItem:n.props.addItem}))},n}return Object(u.a)(e,t),e}(a.a.Component),k=n(11);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach(function(e){Object(k.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var b=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={isEdit:!1,title:n.props.task.title},n.activateEditMode=function(){n.setState({isEdit:!0})},n.deactivateEditMode=function(){var t=O({},n.props.task,{title:n.state.title});n.props.changeTask(n.props.task.id,t),n.setState({isEdit:!1})},n.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0,o=O({},n.props.task,{status:e});n.props.changeTask(n.props.task.id,o)},n.onInputChanged=function(t){n.setState({title:t.currentTarget.value})},n.render=function(){var t=2===n.props.task.status,e=t?"todoList-task done":"todoList-task";return a.a.createElement("div",{className:e},a.a.createElement("input",{type:"checkbox",onClick:n.onIsDoneChanged,checked:t}),n.state.isEdit?a.a.createElement("input",{onBlur:n.deactivateEditMode,onChange:n.onInputChanged,autoFocus:!0,value:n.state.title}):a.a.createElement("span",{onClick:n.activateEditMode},n.state.title," ",n.props.task.priority),a.a.createElement(T,{delete:n.props.deleteTask}))},n}return Object(u.a)(e,t),e}(a.a.Component),v=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){var t=n.props.tasks.filter(function(t){switch(n.props.filterValue){case"All":return!0;case"Completed":return t.isDone;case"Active":return!t.isDone}});return t=t.map(function(t){return a.a.createElement(b,{task:t,changeTask:n.props.changeTask,deleteTask:function(){return n.props.deleteTask(t.id)}})}),a.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(u.a)(e,t),e}(a.a.Component),E=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={isHidden:!1},n.onAllFilterClick=function(){return n.props.changeFilter("All")},n.onCompletedFilterClick=function(){return n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){return n.props.changeFilter("Active")},n.onShowOrHideFiltersClick=function(){return n.setState(function(t){return{isHidden:!t.isHidden}})},n.render=function(t){var e="All"===n.props.filterValue?"filter-active":"",o="Completed"===n.props.filterValue?"filter-active":"",r="Active"===n.props.filterValue?"filter-active":"";return a.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{onClick:n.onAllFilterClick,className:e},"All"),a.a.createElement("button",{onClick:n.onCompletedFilterClick,className:o},"Completed"),a.a.createElement("button",{onClick:n.onActiveFilterClick,className:r},"Active"),a.a.createElement("span",{onClick:n.onShowOrHideFiltersClick},"hide")),n.state.isHidden&&a.a.createElement("span",{onClick:n.onShowOrHideFiltersClick},"show"))},n}return Object(u.a)(e,t),e}(a.a.Component),g=n(8),j=n(16);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(n,!0).forEach(function(e){Object(k.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var w="TodoList/Reducer/ADD-TASK",S={todolists:[]},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/SET-TODOLISTS":return C({},t,{todolists:e.todolists.map(function(t){return C({},t,{tasks:[]})})});case"TodoList/Reducer/ADD-TODOLIST":var n=C({},e.newTodolist);return n.tasks=[],C({},t,{todolists:[].concat(Object(j.a)(t.todolists),[n])});case w:return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?C({},t,{tasks:[].concat(Object(j.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/CHANGE-TASK":return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?C({},t,{tasks:t.tasks.map(function(t){return t.id===e.taskId?C({},t,{},e.obj):t})}):t})});case"TodoList/Reducer/DELETE-TODOLIST":return C({},t,{todolists:t.todolists.filter(function(t){if(t.id!==e.todolistId)return t})});case"TodoList/Reducer/DELETE-TASK":return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?C({},t,{tasks:t.tasks.filter(function(t){if(t.id!==e.taskId)return t})}):t})});case"TodoList/Reducer/SET-TASKS":return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?C({},t,{tasks:e.tasks}):t})});case"TodoList/Reducer/CHANGE_TODOLIST":return C({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?C({},t,{title:e.newTitle}):t})});default:return console.log("reducer: ",e),t}},A=n(28),I=n.n(A).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/todo-lists",withCredentials:!0,headers:{"API-KEY":"2e403f5c-5d3b-4ee4-a662-100f73be85da"}}),D={setTasks:function(t){return I.get("/".concat(t,"/tasks"))},addTask:function(t,e){return I.post("/".concat(t,"/tasks"),{title:e})},deleteTask:function(t,e){return I.delete("/".concat(t,"/tasks/").concat(e))},deleteTodolist:function(t){return I.delete("/".concat(t))},changeTask:function(t,e,n){return I.put("/".concat(t,"/tasks/").concat(e),n)},setTodolists:function(){return I.get()},addTodolist:function(t){return I.post("",{title:t})},changeTodolist:function(t,e){return I.put("".concat(t),{title:e})}},P=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={filterValue:"All"},n.changeFilter=function(t){n.setState({filterValue:t})},n.restoreState=function(){D.setTasks(n.props.id).then(function(t){var e=t.data.items;n.props.setTasks(e,n.props.id)})},n.addTask=function(t){D.addTask(n.props.id,t).then(function(t){var e=t.data.data.item;n.props.addTask(e,n.props.id)})},n.deleteTask=function(t){D.deleteTask(n.props.id,t).then(function(e){n.props.deleteTask(n.props.id,t)})},n.deleteTodolist=function(){D.deleteTodolist(n.props.id).then(function(t){n.props.deleteTodolist(n.props.id)})},n.changeTask=function(t,e){D.changeTask(n.props.id,t,e).then(function(o){n.props.changeTask(n.props.id,t,e)})},n.changeTodolist=function(t){D.changeTodolist(n.props.id,t).then(function(e){n.props.changeTodolist(n.props.id,t)})},n.render=function(){return a.a.createElement("div",{className:"todoList"},a.a.createElement(h,{addItem:n.addTask,todoListTitle:n.props.todoListTitle,deleteTodolist:n.deleteTodolist,changeTodolist:n.changeTodolist}),a.a.createElement(v,{changeTask:n.changeTask,tasks:n.props.tasks,filterValue:n.state.filterValue,deleteTask:n.deleteTask}),a.a.createElement(E,{filterValue:n.state.filterValue,changeFilter:n.changeFilter}))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(a.a.Component),F=Object(g.b)(null,{addTask:function(t,e){return{type:w,newTask:t,todolistId:e}},changeTask:function(t,e,n){return{type:"TodoList/Reducer/CHANGE-TASK",todolistId:t,taskId:e,obj:n}},deleteTodolist:function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todolistId:t}},deleteTask:function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",todolistId:t,taskId:e}},setTasks:function(t,e){return{type:"TodoList/Reducer/SET-TASKS",tasks:t,todolistId:e}},changeTodolist:function(t,e){return{type:"TodoList/Reducer/CHANGE_TODOLIST",todolistId:t,newTitle:e}}})(P),N=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).restoreState=function(){D.setTodolists().then(function(t){n.props.setTodolists(t.data)})},n.addTodoList=function(t){D.addTodolist(t).then(function(t){var e=t.data.data.item;n.props.addTodolist(e)})},n.render=function(){var t=n.props.todolists.map(function(t){return a.a.createElement(F,{id:t.id,todoListTitle:t.title,tasks:t.tasks})});return a.a.createElement("div",{className:"App"},a.a.createElement(f,{addItem:n.addTodoList}),t)},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(a.a.Component),R=Object(g.b)(function(t){return{todolists:t.todolists}},{addTodolist:function(t){return{type:"TodoList/Reducer/ADD-TODOLIST",newTodolist:t}},setTodolists:function(t){return{type:"TodoList/Reducer/SET-TODOLISTS",todolists:t}}})(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(12),H=Object(K.b)(L);i.a.render(a.a.createElement(g.a,{store:H},a.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.04cd0b8f.chunk.js.map